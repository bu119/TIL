# JavaScript 응용

## 1. Truthy & Falsy

자바스크립트의 조건식에는 true / false 를 넣지 않아도 참 또는 거짓으로 인식을 하는 기능이 있다.

- Truthy 
  - True가 아니여도 참으로 인식하는 값
  - 빈 배열 [], 객체 리터럴 {}, 숫자, 문자열 ...
- Falsy
  - alse가 아니여도 거짓으로 인식하는 값
  - null, undefined, 0, -0, NaN, ""(빈문자열) ...

```javascript
// Truthy & Falsy

let a = "";
if (a) {
  console.log("TRUE");
} else {
  console.log("FALSE");
}

a = "STRING";
if (a) {
  console.log("TRUE");
} else {
  console.log("FALSE");
}

// 빈배열 - 참
a = [];
if (a) {
  console.log("TRUE");
} else {
  console.log("FALSE");
}

a = 0;
if (a) {
  console.log("TRUE");
} else {
  console.log("FALSE");
}

// Falsy(false) - null, undefined, 0, -0, NaN, ""(빈문자열)

const getName1 = (person) => {
  return person.name;
};

let person1 = { name: "kim" };
const name1 = getName1(person1);
console.log(name1);

// 값이 undefined 이면
const getName2 = (person) => {
  if (person === undefined) {
    return "객체가 아닙니다.";
  }
  return person.name;
};

let person2;
const name2 = getName2(person2);
console.log(name2);
```



## 2. 삼항 연산자

- 조건식 ? 참일 때 : 거짓일 때

```javascript
let a;

const result = a ? true : false;
console.log(result);
```

## 3. 단락회로 평가

- 모든 피연산자와 연산자를 평가하지 않고서도 식의 결과가 결정되는 것
- `&&` (and)
  - 앞의 조건이 false면 뒤는 볼 필요가 없다.
- `||` (or)
  - 앞의 조건이 true면 뒤는 볼 필요가 없다.

```javascript
console.log(false && true) // false
console.log(true || false) // true
```

## 4. 조건문 업그레이드

```jsx
function isKoreanFood(food) {
  if (["불고기", "떡볶이", "비빔밥"].includes(food)) {
    return true;
  }
  return false;
}

const food1 = isKoreanFood("불고기");
console.log(food1); // true
```

## 5. 비 구조화 할당

- 배열

```jsx
let arr = ["one", "two", "three"];

let [one, two, three] = arr;
```

- 배열의 선언 분리

```jsx
let [one, two, three] = ["one", "two", "three"];
console.log(one, two, three);
```

- swap

```jsx
let a = 10;
let b = 20;

[a, b] = [b, a]; 
```

- 객체

```jsx
let object = { one: "one", two: "two", three: "three", name: "bu" };

// object의 key값을 기준으로 할당
let { one, name, two, three } = object;

// 변수명을 다르게 정의 가능
let { one, name: myName, two, three, abc = "four" } = object;
// myName이라는 변수에 할당

console.log(myName, one, two, three, abc);
```



## 6. spread 연산자

- `...` : 바로 뒤에 오는 객체를 펼쳐준다는 뜻

```jsx
const cookie = {
  base: "cookie",
  madeIn: "korea"
};

const chocochipCookie = {
  ...cookie,
  toping: "chocochip"
};

console.log(chocochipCookie);
```

- 배열

## 7. 동기 & 비동기

- 동기 방식

  - 싱글 스레드가 작성된 순서대로 실행

  - 이전 작업이 진행 중일 때는 다음 작업을 수행하지 않음

  - 하나의 작업이 종료되기 전까지 멈추기 때문에 전반적인 흐름이 느려짐

    ```jsx
    function taskA() {
      console.log("A 작업 끝");
    }
    
    taskA();
    console.log("코드 끝");
    ```

- 비동기 방식

  - 여러 작업을 동시에 실행
  - 작성된 코드의 결과를 기다리지 않고 바로 다음 코드를 실행

## 8. Promise - 콜백 지옥에서 탈출하기

- 비동기 작업이 가질 수 있는 3가지 상태
  - Pending (대기 상태)
  - Fulfiled (성공)
  - Rejected (실패)

```javascript
function taskA(a, b) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const res = a + b;
      resolve(res);
    }, 3000);
  });
}

function taskB(a) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const res = a * 2;
      resolve(res);
    }, 1000);
  });
}

function taskC(a) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const res = a * -1;
      resolve(res);
    }, 2000);
  });
}

taskA(5, 1)
  .then((a_res) => {
    console.log(a_res);
    return taskB(a_res);
  })
  .then((b_res) => {
    console.log(b_res);
    return taskC(b_res);
  })
  .then((c_res) => {
    console.log(c_res);
  });
```

## 9. async & await - 직관적인 비 동기 처리 코드 작성하기

- async :
  - 비동기 promise 객체로 반환

```jsx
taskA(5, 1)
  .then((a_res) => {
    console.log(a_res);
    return taskB(a_res);
  })
  .then((b_res) => {
    console.log(b_res);
    return taskC(b_res);
  })
  .then((c_res) => {
    console.log(c_res);
  });

main();
```

- await
  - async가 붙은 함수 내에서만 사용 가능
  - 해당 줄은 동기적으로 작동

```javascript
async function helloAsync() {
  await delay(3000)
  return "hello Async"
}
```

## 10. API 호출하기

- 클라이언트가 서버에 데이터를 ‘요청'하여 전달 받는 과정
- fetch
  -  API 호출을 도와주는 내장 함수
  - Promise를 반환 (성공 객체 자체를 반환)

```jsx
async function getData() {
  let rawResponse = await fetch("https://jsonplaceholder.typicode.com/posts");
  let jsonResponse = await rawResponse.json();
  console.log(jsonResponse);
}

getData();
```