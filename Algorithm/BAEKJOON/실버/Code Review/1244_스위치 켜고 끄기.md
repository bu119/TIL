# 1244. 스위치 켜고 끄기

## 스위치들의 마지막 상태를 출력하는 프로그램을 작성하기

#### [1244. 스위치 켜고 끄기][https://www.acmicpc.net/problem/1244]

- 스위치는 켜져 있거나 꺼져있는 상태이다.
- `1`은 스위치가 켜져 있음을, `0`은 꺼져 있음을 나타낸다. 
- 학생들에게 1 이상이고 스위치 개수 이하인 자연수를 하나씩 나누어주었다.
- 남학생은 
  - 스위치 번호가 자기가 받은 수의 배수이면, 그 스위치의 상태를 바꾼다.
  -  즉, 스위치가 켜져 있으면 끄고, 꺼져 있으면 켠다. 
- 여학생은 
  - 자기가 받은 수와 같은 번호가 붙은 스위치를 중심으로 좌우가 대칭이면서 가장 많은 스위치를 포함하는 구간을 찾아,
  -  그 구간에 속한 스위치의 상태를 모두 바꾼다. 
  - 이때 구간에 속한 스위치 개수는 항상 홀수가 된다.

---

###  Problem

1. 여자일 때 시행 횟수 인덱스 범위를 잘못 설정함.

   | 스위치 번호 | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    |
   | ----------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 스위치 상태 | 0    | 1    | 1    | 1    | 0    | 1    | 1    | 1    |

   ```python
    girl = min(num, n-num)              # n-num의 범위 설정이 틀림    # num = 3, n-num = 5
       for k in range(1, girl):         # n-num이 min 값이 될 경우 for문의 시행 횟수가 틀림
   ```

   - 여학생이 받은 수가 `3` 일때  `3`을 기준으로 `3-1 = 2` 과 `8-3 = 5` 이다.
   - 즉, `2`번의 `for문`을 시행해야한다.
   - `range`가 `1`부터 시작하므로 인덱스 `+1`을 해주어야한다.
   - `range(1,3) = [1, 2]`

   

2. 출력 조건을 제대로 읽지 않음.

   ```python
   print(*arr)
   ```

   - 한 줄에 20개씩 출력해야 하는데 모두 출력한다.

   

3. 출력 값의 인덱스 범위를 잘못 설정함.

   ```python
   for z in range(n//20 + 1):
       print(*arr[20*z:20*(z+1)+1])    # [0:21], [20:41], [40:61]
   ```

   - 21개의 값이 출력된다.
   - 20, 40, 60 ... 번째 인덱스가 중복된다.

---

### Revision

1. 여자일 때 시행 횟수 인덱스 범위 수정

   ```python
   girl = min(num, n-num+1)
           for k in range(1, girl):
   ```

2. 출력 조건, 인덱스 범위 수정

   ```python
   pr_num = n//20
   for z in range(pr_num+1):
       print(*arr[20*z : 20*(z+1)])    # [0:20], [20:40], [40:60]
   ```

---

## Code

```python
def change(idx):
    global arr
    if arr[idx]:
        arr[idx] = 0
    else:
        arr[idx] = 1

n = int(input())
arr = list(map(int, input().split()))        # 켜져 있으면 1, 꺼져있으면 0
st_num = int(input())

for i in range(st_num):
    gender, num = map(int, input().split())  # 한 학생의 성별, 학생이 받은 수

    if gender == 1:                          # 남학생은 1, 여학생은 2
        boy = n//num                         # 남자 배수 개수
        for j in range(boy):
            idx_b = num * (j + 1) - 1
            change(idx_b)
    else:
        girl = min(num, n-num+1)             # 여자 비교 개수
        idx_g = num - 1
        change(idx_g)
        for k in range(1, girl):
            if arr[idx_g-k] == arr[idx_g+k]:
                change(idx_g-k)
                change(idx_g+k)
            else:
                break

pr_num = n//20
for z in range(pr_num+1):
    print(*arr[20*z:20*(z+1)])
```

---

## Comment

- **문제 똑바로 읽기**
- **인덱스 설정에 주의하기**